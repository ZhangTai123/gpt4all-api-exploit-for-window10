

def calc_offset(text1, text2):
    # 计算公共部分
    start = 0
    while start < len(text1) and start < len(text2) and text1[start] == text2[start]:
        start += 1
    end = 0
    while end < len(text1) and end < len(text2) and text1[-1-end] == text2[-1-end]:
        end += 1
    # 对齐后的偏移量
    offset = start
    # 对于每个不同的字符，计算其偏移量差并累加到offset
    for i in range(start, len(text1)-end):
        j = i + offset
        if j >= len(text2)-end:
            break
        if text1[i] != text2[j]:
            # 计算字符在text1中的偏移量
            offset1 = i - offset
            # 计算字符在text2中的偏移量
            offset2 = j - offset
            # 累加偏移量差
            offset += offset2 - offset1
    # 返回整体偏移量
    return len(text2) - len(text1) + offset
if __name__ == '__main__':
    text1 = "Birds are one of the most famous migrating animals. In spring, " \
            "geese and cranes in North America migrate from south to north" \
            " to breed, and in the fall, they migrate back south again." \
            " These birds have to fly thousands of miles every year to" \
            " complete their migration journey."
    text2 = """Birds are one of the most renowned migratory animals. In spring, geese and cranes in North America travel from the
south to the north to breed, and in the fall, they travel back south again. These birds must fly thousands of miles
every year to complete their migration journey."""
    offset = calc_offset(text1, text2)
    print("Offset: %d" % offset)